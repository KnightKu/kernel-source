From: Jiri Slaby <jslaby@suse.cz>
Subject: kABI: protect tty include in audit.h
Patch-mainline: never, kabi
References: kabi

In 4.4.127, commit 545853704b49f0cdc887c0b2a71382423b5f3f76 (audit: add
tty field to LOGIN event), upstream commit
db0a6fb5d97afe01fd9c47d37c6daa82d4d4001d added linux/tty.h include to
include/linux/audit.h and it made some of the symbols defined.

Protect the include by __GENKSYMS__ to hide it from the kABI checker.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 include/linux/audit.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/linux/audit.h
+++ b/include/linux/audit.h
@@ -26,7 +26,9 @@
 #include <linux/sched.h>
 #include <linux/ptrace.h>
 #include <uapi/linux/audit.h>
+#ifndef __GENKSYMS__
 #include <linux/tty.h>
+#endif
 
 #define AUDIT_INO_UNSET ((unsigned long)-1)
 #define AUDIT_DEV_UNSET ((dev_t)-1)
