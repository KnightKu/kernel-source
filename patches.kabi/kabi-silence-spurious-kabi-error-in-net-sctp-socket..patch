From: Michal Kubecek <mkubecek@suse.cz>
Date: Tue, 12 Dec 2017 21:24:31 +0100
Subject: kabi: silence spurious kabi error in net/sctp/socket.c
Patch-mainline: Never, kabi workaround
References: bsc#1068671

Fix for CVE-2017-15115 / bsc#1068671 needs <linux/nsproxy.h> included in
this file but that results in spurious kabi error. Hide the include from
genksyms the usual way.

Signed-off-by: Michal Kubecek <mkubecek@suse.cz>
---
 net/sctp/socket.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/net/sctp/socket.c b/net/sctp/socket.c
index 1cb3f862cbf2..998145b665d6 100644
--- a/net/sctp/socket.c
+++ b/net/sctp/socket.c
@@ -70,7 +70,9 @@
 #include <linux/init.h>
 #include <linux/crypto.h>
 #include <linux/slab.h>
+#ifndef __GENKSYMS__
 #include <linux/nsproxy.h>
+#endif
 
 #include <net/ip.h>
 #include <net/icmp.h>
-- 
2.15.1

