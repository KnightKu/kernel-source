From: Jiri Kosina <jkosina@suse.cz>
Subject: [PATCH] x86/retpolines: Work around kABI
Patch-mainline: Never, SUSE specific

Fixup checksum change of struct device.

Signed-off-by: Jiri Kosina <jkosina@suse.cz>
[ bp: commit message ]
Acked-by: Borislav Petkov <bp@suse.de>

---
 include/linux/cpu.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/linux/cpu.h
+++ b/include/linux/cpu.h
@@ -18,7 +18,9 @@
 #include <linux/node.h>
 #include <linux/compiler.h>
 #include <linux/cpumask.h>
+#ifndef __GENKSYMS__
 #include <linux/device.h>
+#endif
 
 struct cpu {
 	int node_id;		/* The node which contains the CPU */
