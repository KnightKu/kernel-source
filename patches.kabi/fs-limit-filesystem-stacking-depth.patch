From: Jeff Mahoney <jeffm@suse.com>
Subject: kabi: protect super_block->s_stack_depth
References: bsc#1032340 CVE-2014-9922
Patch-mainline: Never, kabi fix

struct super_block is always allocated dynamically, so we can make the
kabi checker happy by excepting s_stack_depth.

Signed-off-by: Jeff Mahoney <jeffm@suse.com>
---
 include/linux/fs.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/linux/fs.h
+++ b/include/linux/fs.h
@@ -1507,10 +1507,12 @@ struct super_block {
 	 */
 	int cleancache_poolid;
 
+#ifndef __GENKSYMS__
 	/*
 	 * Indicates how deep in a filesystem stack this SB is
 	 */
 	int s_stack_depth;
+#endif
 };
 
 extern struct timespec current_fs_time(struct super_block *sb);
