From: Torsten Duwe <duwe@suse.de>
Subject: Be prepared to enable ARM64 live patching during SP3 lifetime
Patch-mainline: Never, kabi
References: FATE#322421

SLE12-SP3 will ship without live patching on ARM64;
however, it will eventually be enabled during its lifetime.

Given the experience with ppc64le, the biggest kABI breakage
results from a changing struct module, so include the 2 booleans
right from the start.

Signed-off-by: Torsten Duwe <duwe@suse.de>

--- a/include/linux/module.h
+++ b/include/linux/module.h
@@ -464,11 +464,11 @@ struct module {
 	unsigned long *ftrace_callsites;
 #endif
 
-#ifdef CONFIG_LIVEPATCH
+#if defined(CONFIG_LIVEPATCH) || defined(__aarch64__)
 	bool klp_alive;
 #endif
 
-#ifdef CONFIG_KGRAFT
+#if defined(CONFIG_KGRAFT) || defined(__aarch64__)
 	bool kgr_alive;
 #endif
 
