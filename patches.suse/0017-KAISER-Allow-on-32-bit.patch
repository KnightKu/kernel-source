From ab25bd74eff87da19a19381e7f20f3da49ad91f7 Mon Sep 17 00:00:00 2001
From: Joerg Roedel <jroedel@suse.de>
Date: Tue, 13 Mar 2018 15:27:37 +0100
Subject: [PATCH 17/17] KAISER: Allow on 32 bit
References: bsc#1068032 CVE-2017-5754
Patch-mainline: No, different upstream implementation

Make CONFIG_KAISER selectable on 32 bit.

Signed-off-by: Joerg Roedel <jroedel@suse.de>
---
 security/Kconfig | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/security/Kconfig
+++ b/security/Kconfig
@@ -99,7 +99,7 @@ config SECURITY
 config KAISER
 	bool "Remove the kernel mapping in user mode"
 	default y
-	depends on X86_64 && SMP
+	depends on X86 && SMP
 	help
 	  This enforces a strict kernel and user space isolation, in order
 	  to close hardware side channels on kernel address information.
