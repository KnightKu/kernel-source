From 55253b68e6b034d7ee9a74e97be22dc7fe603c0b Mon Sep 17 00:00:00 2001
From: Joerg Roedel <jroedel@suse.de>
Date: Tue, 13 Mar 2018 15:43:59 +0100
Subject: [PATCH 11/17] x86/kaiser: Print message when KAISER is enabled
References: bsc#1068032 CVE-2017-5754
Patch-mainline: No, different upstream implementation

Let the user know in dmesg when KAISER is enabled on the
machine.

Signed-off-by: Joerg Roedel <jroedel@suse.de>
---
 arch/x86/mm/kaiser.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/arch/x86/mm/kaiser.c b/arch/x86/mm/kaiser.c
index b7fe0a3..3d27a05 100644
--- a/arch/x86/mm/kaiser.c
+++ b/arch/x86/mm/kaiser.c
@@ -311,8 +311,10 @@ skip:
 		goto disable;
 
 enable:
-	if (enable)
+	if (enable) {
+		pr_info("Kernel/User page tables isolation: enabled\n");
 		setup_force_cpu_cap(X86_FEATURE_KAISER);
+	}
 
 	return;
 
-- 
1.8.5.6

