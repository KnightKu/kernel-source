From: Jiri Kosina <jkosina@suse.cz>
Subject: KDB: fix build in XFS code
Patch-mainline: Never, NA

This function is not used anywhere, so we can just drop it.

Signed-off-by: Jiri Kosina <jkosina@suse.cz>

---
 fs/xfs/linux-2.6/xfs_buf.c |    2 ++
 fs/xfs/linux-2.6/xfs_buf.h |    2 ++
 2 files changed, 4 insertions(+)

--- a/fs/xfs/linux-2.6/xfs_buf.c
+++ b/fs/xfs/linux-2.6/xfs_buf.c
@@ -1988,6 +1988,7 @@ xfs_buf_terminate(void)
 	kmem_zone_destroy(xfs_buf_zone);
 }
 
+/* Breakds build, probably not needed at all
 #ifdef CONFIG_KDB_MODULES
 struct list_head *
 xfs_get_buftarg_list(void)
@@ -1995,3 +1996,4 @@ xfs_get_buftarg_list(void)
 	return &xfs_buftarg_list;
 }
 #endif
+*/
--- a/fs/xfs/linux-2.6/xfs_buf.h
+++ b/fs/xfs/linux-2.6/xfs_buf.h
@@ -350,9 +350,11 @@ extern void xfs_wait_buftarg(xfs_buftarg
 extern int xfs_setsize_buftarg(xfs_buftarg_t *, unsigned int, unsigned int);
 extern int xfs_flush_buftarg(xfs_buftarg_t *, int);
 
+/*
 #ifdef CONFIG_KDB_MODULES
 extern struct list_head *xfs_get_buftarg_list(void);
 #endif
+*/
 
 #define xfs_getsize_buftarg(buftarg)	block_size((buftarg)->bt_bdev)
 #define xfs_readonly_buftarg(buftarg)	bdev_read_only((buftarg)->bt_bdev)
