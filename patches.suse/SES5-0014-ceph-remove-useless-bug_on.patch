From: "Yan, Zheng" <zyan@redhat.com>
Date: Wed, 27 Jan 2016 09:30:29 +0800
Subject: ceph: remove useless BUG_ON
Git-commit: a587d71b0a4b222762e9c3a2352f076532685d9f
Patch-mainline: v4.6-rc1
References: FATE#322288

ceph_osdc_start_request() never return -EOLDSNAP

Signed-off-by: Yan, Zheng <zyan@redhat.com>
Acked-by: Luis Henriques <lhenriques@suse.com>
---
 fs/ceph/file.c | 2 --
 1 file changed, 2 deletions(-)

diff --git a/fs/ceph/file.c b/fs/ceph/file.c
index eb9028e8cfc5..6738766f0c12 100644
--- a/fs/ceph/file.c
+++ b/fs/ceph/file.c
@@ -725,7 +725,6 @@ static void ceph_aio_retry_work(struct work_struct *work)
 	ret = ceph_osdc_start_request(req->r_osdc, req, false);
 out:
 	if (ret < 0) {
-		BUG_ON(ret == -EOLDSNAPC);
 		req->r_result = ret;
 		ceph_aio_complete_req(req, NULL);
 	}
@@ -949,7 +948,6 @@ ceph_direct_read_write(struct kiocb *iocb, struct iov_iter *iter,
 				ret = ceph_osdc_start_request(req->r_osdc,
 							      req, false);
 			if (ret < 0) {
-				BUG_ON(ret == -EOLDSNAPC);
 				req->r_result = ret;
 				ceph_aio_complete_req(req, NULL);
 			}

