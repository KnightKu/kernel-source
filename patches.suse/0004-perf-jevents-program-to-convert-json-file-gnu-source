From: Tony Jones <tonyj@suse.com>
Date: Fri Apr  7 14:45:18 PDT 2017
Subject: perf jevents: guard _GNU_SOURCE
Patch-mainline: Not yet, pending
References: FATE#319936, bsc#1030064S
Signed-off-by: Tony Jones <tonyj@suse.de>

guard against redefinition  of __GNU_SOURCE

---
 tools/perf/pmu-events/jevents.c |    2 ++
 1 file changed, 2 insertions(+)

--- a/tools/perf/pmu-events/jevents.c
+++ b/tools/perf/pmu-events/jevents.c
@@ -1,5 +1,7 @@
 #define  _XOPEN_SOURCE 500	/* needed for nftw() */
+#ifndef  _GNU_SOURCE
 #define  _GNU_SOURCE		/* needed for asprintf() */
+#endif
 
 /* Parse event JSON files */
 
