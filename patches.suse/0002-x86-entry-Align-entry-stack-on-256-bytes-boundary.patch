From d7d4efbb86917f2e6c5a4b8c4091c39172793458 Mon Sep 17 00:00:00 2001
From: Joerg Roedel <jroedel@suse.de>
Date: Tue, 13 Mar 2018 15:52:15 +0100
Subject: [PATCH 02/17] x86/entry: Align entry stack on 256 bytes boundary
References: bsc#1068032 CVE-2017-5754
Patch-mainline: No, different upstream implementation

This makes a few things simpler in the entry code.

Signed-off-by: Joerg Roedel <jroedel@suse.de>
---
 arch/x86/include/asm/processor.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/arch/x86/include/asm/processor.h
+++ b/arch/x86/include/asm/processor.h
@@ -266,7 +266,7 @@ struct tss_struct {
 	/* IRQ stacks have to maintain 16-bytes alignment! */
 	u8			pad;
 #endif
-	unsigned long		stack[64];
+	unsigned long		stack[64] __aligned(256);
 
 } __attribute__((__aligned__(PAGE_SIZE)));
 
