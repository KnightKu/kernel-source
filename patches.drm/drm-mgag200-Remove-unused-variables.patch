Git-commit: 546aee51ecacf6605b15f6a2580926f956dc5a3e
Patch-Mainline: v4.1-rc6
References: bnc#1044216 fate#323551
From: Sudip Mukherjee <sudipm.mukherjee@gmail.com>
Date: Wed, 1 Jul 2015 17:12:45 +0530
Subject: drm/mgag200: remove unused variables
Signed-off-by: Michal Srb <msrb@suse.com>

These variables were assigned some values but they were never used.

Signed-off-by: Sudip Mukherjee <sudip@vectorindia.org>
Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>

---
 drivers/gpu/drm/mgag200/mgag200_fb.c   |    2 --
 drivers/gpu/drm/mgag200/mgag200_mode.c |    9 +++------
 2 files changed, 3 insertions(+), 8 deletions(-)

--- a/drivers/gpu/drm/mgag200/mgag200_fb.c
+++ b/drivers/gpu/drm/mgag200/mgag200_fb.c
@@ -131,7 +131,6 @@ static int mgag200fb_create(struct mga_f
 	struct drm_framebuffer *fb;
 	struct drm_gem_object *gobj = NULL;
 	struct device *device = &dev->pdev->dev;
-	struct mgag200_bo *bo;
 	int ret;
 	void *sysram = NULL;
 	int size;
@@ -149,7 +148,6 @@ static int mgag200fb_create(struct mga_f
 		DRM_ERROR("failed to create fbcon backing object %d\n", ret);
 		return ret;
 	}
-	bo = gem_to_mga_bo(gobj);
 
 	sysram = vmalloc(size);
 	if (!sysram)
--- a/drivers/gpu/drm/mgag200/mgag200_mode.c
+++ b/drivers/gpu/drm/mgag200/mgag200_mode.c
@@ -230,7 +230,7 @@ static int mga_g200se_set_plls(struct mg
 static int mga_g200wb_set_plls(struct mga_device *mdev, long clock)
 {
 	unsigned int vcomax, vcomin, pllreffreq;
-	unsigned int delta, tmpdelta, permitteddelta;
+	unsigned int delta, tmpdelta;
 	unsigned int testp, testm, testn, testp2;
 	unsigned int p, m, n;
 	unsigned int computed;
@@ -241,7 +241,6 @@ static int mga_g200wb_set_plls(struct mg
 	m = n = p = 0;
 
 	delta = 0xffffffff;
-	permitteddelta = clock * 5 / 1000;
 
 	if (mdev->type == G200_EW3) {
 
@@ -410,7 +409,7 @@ static int mga_g200wb_set_plls(struct mg
 static int mga_g200ev_set_plls(struct mga_device *mdev, long clock)
 {
 	unsigned int vcomax, vcomin, pllreffreq;
-	unsigned int delta, tmpdelta, permitteddelta;
+	unsigned int delta, tmpdelta;
 	unsigned int testp, testm, testn;
 	unsigned int p, m, n;
 	unsigned int computed;
@@ -422,7 +421,6 @@ static int mga_g200ev_set_plls(struct mg
 	pllreffreq = 50000;
 
 	delta = 0xffffffff;
-	permitteddelta = clock * 5 / 1000;
 
 	for (testp = 16; testp > 0; testp--) {
 		if (clock * testp > vcomax)
@@ -504,7 +502,7 @@ static int mga_g200ev_set_plls(struct mg
 static int mga_g200eh_set_plls(struct mga_device *mdev, long clock)
 {
 	unsigned int vcomax, vcomin, pllreffreq;
-	unsigned int delta, tmpdelta, permitteddelta;
+	unsigned int delta, tmpdelta;
 	unsigned int testp, testm, testn;
 	unsigned int p, m, n;
 	unsigned int computed;
@@ -518,7 +516,6 @@ static int mga_g200eh_set_plls(struct mg
 	pllreffreq = 33333;
 
 	delta = 0xffffffff;
-	permitteddelta = clock * 5 / 1000;
 
 	for (testp = 16; testp > 0; testp >>= 1) {
 		if (clock * testp > vcomax)
