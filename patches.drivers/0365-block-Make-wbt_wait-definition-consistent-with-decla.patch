From: Bart Van Assche <Bart.VanAssche@sandisk.com>
Date: Mon, 2 Jan 2017 09:46:15 -0700
Subject: block: Make wbt_wait() definition consistent with declaration
References: bsc#1020989,FATE#322379
Git-commit: f2e0a0b292682dd94274d6793d76656b41526147
Patch-Mainline: v4.10-rc3

Fixes: e34cbd307477 ("blk-wbt: add general throttling mechanism")
Signed-off-by: Bart Van Assche <bart.vanassche@sandisk.com>
Signed-off-by: Jens Axboe <axboe@fb.com>
Signed-off-by: Hannes Reinecke <hare@suse.de>
---
 block/blk-wbt.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/block/blk-wbt.c b/block/blk-wbt.c
index 6e82769..fd28c28 100644
--- a/block/blk-wbt.c
+++ b/block/blk-wbt.c
@@ -595,7 +595,7 @@ static inline bool wbt_should_throttle(struct rq_wb *rwb, struct bio *bio)
  * in an irq held spinlock, if it holds one when calling this function.
  * If we do sleep, we'll release and re-grab it.
  */
-unsigned int wbt_wait(struct rq_wb *rwb, struct bio *bio, spinlock_t *lock)
+enum wbt_flags wbt_wait(struct rq_wb *rwb, struct bio *bio, spinlock_t *lock)
 {
 	unsigned int ret = 0;
 
-- 
1.8.5.6

