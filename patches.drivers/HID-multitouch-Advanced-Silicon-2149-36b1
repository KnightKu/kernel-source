From: Takashi Iwai <tiwai@suse.de>
Subject: Add support for AdvancedSilicon HID multitouch screen (2149:36b1)
References: FATE#317933
Patch-mainline: Never (Obsoleted by later patch)

Upstream doesn't need this setup as this is Win8-compatible HID device.
For SLE11, we need to add each item manually.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/hid/hid-core.c          |    1 +
 drivers/hid/hid-ids.h           |    3 +++
 drivers/hid/hid-multitouch.c    |    5 +++++
 drivers/hid/usbhid/hid-quirks.c |    1 +
 4 files changed, 10 insertions(+)

--- a/drivers/hid/hid-core.c
+++ b/drivers/hid/hid-core.c
@@ -1678,6 +1678,7 @@ static const struct hid_device_id hid_ha
 	{ HID_USB_DEVICE(USB_VENDOR_ID_ZYDACRON, USB_DEVICE_ID_ZYDACRON_REMOTE_CONTROL) },
 
 	{ HID_BLUETOOTH_DEVICE(USB_VENDOR_ID_MICROSOFT, USB_DEVICE_ID_MS_PRESENTER_8K_BT) },
+	{ HID_USB_DEVICE(USB_VENDOR_ID_ADVANCED_SILICON, USB_DEVICE_ID_AS_TS_36B1) },
 	{ }
 };
 
--- a/drivers/hid/hid-ids.h
+++ b/drivers/hid/hid-ids.h
@@ -717,4 +717,7 @@
 #define USB_VENDOR_ID_ZYDACRON	0x13EC
 #define USB_DEVICE_ID_ZYDACRON_REMOTE_CONTROL	0x0006
 
+#define USB_VENDOR_ID_ADVANCED_SILICON	0x2149
+#define USB_DEVICE_ID_AS_TS_36B1	0x36b1
+
 #endif
--- a/drivers/hid/hid-multitouch.c
+++ b/drivers/hid/hid-multitouch.c
@@ -797,6 +797,11 @@ static const struct hid_device_id mt_dev
 		HID_USB_DEVICE(USB_VENDOR_ID_UNITEC,
 			USB_DEVICE_ID_UNITEC_USB_TOUCH_0A19) },
 
+	/* Advanced Silicon panels */
+	{ .driver_data = MT_CLS_WIN_8,
+		HID_USB_DEVICE(USB_VENDOR_ID_ADVANCED_SILICON,
+			USB_DEVICE_ID_AS_TS_36B1) },
+
 	{ }
 };
 MODULE_DEVICE_TABLE(hid, mt_devices);
--- a/drivers/hid/usbhid/hid-quirks.c
+++ b/drivers/hid/usbhid/hid-quirks.c
@@ -31,6 +31,7 @@ static const struct hid_blacklist {
 } hid_blacklist[] = {
 	{ USB_VENDOR_ID_AASHIMA, USB_DEVICE_ID_AASHIMA_GAMEPAD, HID_QUIRK_BADPAD },
 	{ USB_VENDOR_ID_AASHIMA, USB_DEVICE_ID_AASHIMA_PREDATOR, HID_QUIRK_BADPAD },
+	{ USB_VENDOR_ID_ADVANCED_SILICON, USB_DEVICE_ID_AS_TS_36B1, HID_QUIRK_MULTI_INPUT },
 	{ USB_VENDOR_ID_ALPS, USB_DEVICE_ID_IBM_GAMEPAD, HID_QUIRK_BADPAD },
 	{ USB_VENDOR_ID_ATMEL, USB_DEVICE_ID_ATMEL_MXT_DIG2, HID_QUIRK_MULTI_INPUT },
 	{ USB_VENDOR_ID_CHIC, USB_DEVICE_ID_CHIC_GAMEPAD, HID_QUIRK_BADPAD },
