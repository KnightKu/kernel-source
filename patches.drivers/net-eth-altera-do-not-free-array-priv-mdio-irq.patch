From: Colin Ian King <colin.king@canonical.com>
Date: Thu, 3 Mar 2016 13:47:18 +0000
Subject: net: eth: altera: do not free array priv->mdio->irq
Patch-mainline: v4.5
Git-commit: 11f7f79b40ebfbac6a1bcdbc61d5d13d365e744b
References: bsc#1026030 FATE#321670

priv->mdio->irq used to be allocated and required freeing, but it
is now a fixed sized array and should no longer be free'd.

Issue detected using static analysis with CoverityScan

Fixes: e7f4dc3536a400 ("mdio: Move allocation of interrupts into core")
Signed-off-by: Colin Ian King <colin.king@canonical.com>
Reviewed-by: Andrew Lunn <andrew@lunn.ch>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Benjamin Poirier <bpoirier@suse.com>
---
 drivers/net/ethernet/altera/altera_tse_main.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/net/ethernet/altera/altera_tse_main.c
+++ b/drivers/net/ethernet/altera/altera_tse_main.c
@@ -193,7 +193,6 @@ static void altera_tse_mdio_destroy(stru
 			    priv->mdio->id);
 
 	mdiobus_unregister(priv->mdio);
-	kfree(priv->mdio->irq);
 	mdiobus_free(priv->mdio);
 	priv->mdio = NULL;
 }
