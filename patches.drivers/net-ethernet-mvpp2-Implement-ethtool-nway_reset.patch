From: Florian Fainelli <f.fainelli@gmail.com>
Date: Tue, 15 Nov 2016 11:19:48 -0800
Subject: net: ethernet: mvpp2: Implement ethtool::nway_reset
Patch-mainline: v4.10-rc1
Git-commit: 00606c498664a8575afc6c1835de1e3cf582445f
References: bsc#1032150

Implement ethtool::nway_reset using phy_ethtool_nway_reset. We are
already using dev->phydev all over the place so this comes for free.

Signed-off-by: Florian Fainelli <f.fainelli@gmail.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Benjamin Poirier <bpoirier@suse.com>
---
 drivers/net/ethernet/marvell/mvpp2.c |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/net/ethernet/marvell/mvpp2.c
+++ b/drivers/net/ethernet/marvell/mvpp2.c
@@ -5924,6 +5924,7 @@ static const struct net_device_ops mvpp2
 };
 
 static const struct ethtool_ops mvpp2_eth_tool_ops = {
+	.nway_reset	= phy_ethtool_nway_reset,
 	.get_link	= ethtool_op_get_link,
 	.set_coalesce	= mvpp2_ethtool_set_coalesce,
 	.get_coalesce	= mvpp2_ethtool_get_coalesce,
