From: David S. Miller <davem@davemloft.net>
Date: Sat Jul 23 19:31:37 2016 -0400
Merge: d95a93a9b716 107df03203bb
Subject: Merge commit de0ba9a0d890 of git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
Patch-mainline: v4.8-rc1
Git-commit: de0ba9a0d8909996f9e293d311c2cc459fa77d67 (partial)
References: bsc#1024346 FATE#321239

Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
    
Just several instances of overlapping changes.
    
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: David Chang <dchang@suse.com>
---
 drivers/net/ethernet/intel/i40e/i40e_main.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

--- a/drivers/net/ethernet/intel/i40e/i40e_main.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_main.c
@@ -2186,6 +2186,18 @@ int i40e_sync_vsi_filters(struct i40e_vs
 						     hw->aq.asq_last_status));
 			}
 		}
+		aq_ret = i40e_aq_set_vsi_broadcast(&vsi->back->hw,
+						   vsi->seid,
+						   cur_promisc, NULL);
+		if (aq_ret) {
+			retval = i40e_aq_rc_to_posix(aq_ret,
+						     pf->hw.aq.asq_last_status);
+			dev_info(&pf->pdev->dev,
+				 "set brdcast promisc failed, err %s, aq_err %s\n",
+					 i40e_stat_str(hw, aq_ret),
+					 i40e_aq_str(hw,
+						     hw->aq.asq_last_status));
+		}
 	}
 out:
 	/* if something went wrong then set the changed flag so we try again */
