From c80defaaca6cf2b2cf65939a9576bb197f48f7a8 Mon Sep 17 00:00:00 2001
From: Julia Lawall <Julia.Lawall@lip6.fr>
Date: Mon, 23 Apr 2012 22:26:58 -0700
Subject: [PATCH 2/2] Input: aiptek - adjust error-handling code label
Git-Commit: 482d74ceb09db45b5d19fd1ae3810b38afbc0518
Patch-Mainline: v3.5
References: bnc#956708, CVE-2015-7515

At the point of this error-handling code, aiptek->urb has been allocated,
and it does not appear to be less necessary to free it here than in the
error-handling code just below.

Signed-off-by: Julia Lawall <Julia.Lawall@lip6.fr>
Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
Signed-off-by: Oliver Neukum <oneukum@suse.com>
Conflicts:
	drivers/input/tablet/aiptek.c
---
 drivers/input/tablet/aiptek.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/input/tablet/aiptek.c b/drivers/input/tablet/aiptek.c
index cdbe13a..880d42a 100644
--- a/drivers/input/tablet/aiptek.c
+++ b/drivers/input/tablet/aiptek.c
@@ -1862,7 +1862,7 @@ aiptek_probe(struct usb_interface *intf, const struct usb_device_id *id)
 		dev_info(&intf->dev,
 			 "Aiptek tried all speeds, no sane response\n");
 			err = -EINVAL;
-		goto fail2;
+		goto fail3;
 	}
 
 	/* Associate this driver's struct with the usb interface.
-- 
2.1.4

