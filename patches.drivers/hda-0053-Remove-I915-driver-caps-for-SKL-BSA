From: Takashi Iwai <tiwai@suse.de>
Subject: Remove I915 driver caps for SKL & BSA
Patch-mainline: Never
References: bsc#944502

Since SLE12 SP0 & SP1 kernels don't support Skylake and Braswell in
i915 drm driver, resolving powerwell from HD-audio fails.  There is
a fallback, but it's only for nomodeset, and not for unsupported i915
gfx device.

As a workaround, simply drop AZX_DCAPS_I915_POWERWELL from these
devices.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/hda_intel.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/sound/pci/hda/hda_intel.c
+++ b/sound/pci/hda/hda_intel.c
@@ -623,11 +623,11 @@ enum {
 	 AZX_DCAPS_I915_POWERWELL)
 
 #define AZX_DCAPS_INTEL_BRASWELL \
-	(AZX_DCAPS_INTEL_PCH | AZX_DCAPS_I915_POWERWELL)
+	(AZX_DCAPS_INTEL_PCH | 0 /*AZX_DCAPS_I915_POWERWELL*/)
 
 #define AZX_DCAPS_INTEL_SKYLAKE \
 	(AZX_DCAPS_INTEL_PCH | AZX_DCAPS_SEPARATE_STREAM_TAG |\
-	 AZX_DCAPS_I915_POWERWELL)
+	 0 /*AZX_DCAPS_I915_POWERWELL*/)
 
 /* quirks for ATI SB / AMD Hudson */
 #define AZX_DCAPS_PRESET_ATI_SB \
